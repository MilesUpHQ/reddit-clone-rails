<div class="row">
  <div class="col-1 text-center">
    <div id="vote-actions-<%= @post.id %>" class="vote" data-id="<%= @post.id %>">
      <div class="fa fa-arrow-up upvote <%= is_upvoted @post %>"></div>
      <span class="font-weight-bold score"><%= @post.score %></span>
      <div class="fa fa-arrow-down downvote <%= is_downvoted @post %>"></div>
    </div>
  </div>
  <div class="col-11">
    <h2><%= @post.title %></h2>

    <div style="word-wrap: break-word;">
      <%= @post.body  %>
    </div>

    <div id="post-comments">
      <%= render partial: "posts/comments", locals: { comments: @post.comments.where(parent_id: nil).order(id: :desc) } %>
    </div>
    <div class = "sub-comment">
        <%= render partial: "posts/comments",  locals: { comments: @post.comments.where(parent_id: :comment_id).where(post_id: @post.id).order(id: :desc)} %>
    </div>
    <b>
      <li><%= link_to "Edit", edit_community_post_path %></li>
      <li><%= link_to "Destroy", community_post_path(@post),
                  method: :delete,
                  data: { confirm: "Are you sure?" } %></li>
    </b>

    <h5>Leave a comment</h5>
    <%= render partial: "comments/form", locals:{ post: @post, parent: nil} %>

  </div>
</div>
